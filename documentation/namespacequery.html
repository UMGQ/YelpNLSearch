<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>My Project: query Namespace Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">My Project
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li class="current"><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="namespaces.html"><span>Namespace&#160;List</span></a></li>
      <li><a href="namespacemembers.html"><span>Namespace&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('namespacequery.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">query Namespace Reference</div>  </div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a95217bf2533f8fec593d1ae91adabd38"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacequery.html#a95217bf2533f8fec593d1ae91adabd38">all_cities</a> ()</td></tr>
<tr class="separator:a95217bf2533f8fec593d1ae91adabd38"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a94c9d291a7efb83fb4b62582d3f4bcde"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacequery.html#a94c9d291a7efb83fb4b62582d3f4bcde">extract_entity_names</a> (t)</td></tr>
<tr class="separator:a94c9d291a7efb83fb4b62582d3f4bcde"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7d3f6a06c4ce4b9b11ad611f70048ffe"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacequery.html#a7d3f6a06c4ce4b9b11ad611f70048ffe">parse_location</a> (original_setence)</td></tr>
<tr class="separator:a7d3f6a06c4ce4b9b11ad611f70048ffe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a23f3087f46de1f567aa7412d9de15017"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacequery.html#a23f3087f46de1f567aa7412d9de15017">parse_time</a> (original_setence)</td></tr>
<tr class="separator:a23f3087f46de1f567aa7412d9de15017"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8c72e1c998b1bfbb4f0057da83e2973d"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacequery.html#a8c72e1c998b1bfbb4f0057da83e2973d">parse_filters</a> (original_setence)</td></tr>
<tr class="separator:a8c72e1c998b1bfbb4f0057da83e2973d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a911e07979f26b29e3a195a40835172a3"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacequery.html#a911e07979f26b29e3a195a40835172a3">query</a> (original)</td></tr>
<tr class="separator:a911e07979f26b29e3a195a40835172a3"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a0c3941964afa50da2c696343fefc4104"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacequery.html#a0c3941964afa50da2c696343fefc4104">times</a> = time.localtime()</td></tr>
<tr class="separator:a0c3941964afa50da2c696343fefc4104"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae86225984181c4fc348652276e13b1c8"><td class="memItemLeft" align="right" valign="top">list&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacequery.html#ae86225984181c4fc348652276e13b1c8">nums</a></td></tr>
<tr class="separator:ae86225984181c4fc348652276e13b1c8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9f286bc6df9e50d403c649f61f8dbf92"><td class="memItemLeft" align="right" valign="top">dictionary&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacequery.html#a9f286bc6df9e50d403c649f61f8dbf92">Cities</a> = {}</td></tr>
<tr class="separator:a9f286bc6df9e50d403c649f61f8dbf92"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a29da31d4ffbe263506490098738cc1e6"><td class="memItemLeft" align="right" valign="top">dictionary&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacequery.html#a29da31d4ffbe263506490098738cc1e6">States</a> = {}</td></tr>
<tr class="separator:a29da31d4ffbe263506490098738cc1e6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8a873c314e2e87100988dabcd958feda"><td class="memItemLeft" align="right" valign="top">dictionary&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacequery.html#a8a873c314e2e87100988dabcd958feda">States_abbr</a> = {}</td></tr>
<tr class="separator:a8a873c314e2e87100988dabcd958feda"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa994f27048276fc4931eab2a3460fa1d"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacequery.html#aa994f27048276fc4931eab2a3460fa1d">laititude</a> = 36.169941</td></tr>
<tr class="separator:aa994f27048276fc4931eab2a3460fa1d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a207c06728e36340be26f4a76c37757c2"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacequery.html#a207c06728e36340be26f4a76c37757c2">longitude</a> = -115.139830</td></tr>
<tr class="separator:a207c06728e36340be26f4a76c37757c2"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><pre class="fragment">    @This file is used to parse the query into the multi filters and modify 
    the query sentense, so that the search engine is able to retrive a 
    list of business from dataset which meeting all requirements of query.

    The filters include location limit, open time limit, happy hour, suitable
    for group, suitable for kids, outdoor table availability, various price
    level, take-out and delivery availability, reservation availability, and 
    parking availability

    The words shows in the filter will be removed from query string so that
    search engine is able to get a more fair and relevant ranking of different
    business.

    @ Input: the string of query sentense
    @ Output: the imporved query sentense and a list of filters.

    @ Package used: nltk, time, geonamescache
</pre> </div><h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="a95217bf2533f8fec593d1ae91adabd38"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def query.all_cities </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">    This function will set three dictionary of python.
    
    The package geonamescache contians a list of cities in the World and
    a list of states in Unite States
    After scan the list of cities and the list of states, the name of cities
    and the name of states of America with all lower-case will be loaded into
    dictionary Cities and States separately.
</pre> 
</div>
</div>
<a class="anchor" id="a94c9d291a7efb83fb4b62582d3f4bcde"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def query.extract_entity_names </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>t</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">    This function is a helper function, which will be recursively called to 
    separate one sentense into various words group. And from the groups of 
    word, the city name and state name can be extracted as filter
</pre> 
</div>
</div>
<a class="anchor" id="a8c72e1c998b1bfbb4f0057da83e2973d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def query.parse_filters </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>original_setence</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">    This funciton will extract specified attribute of business 
    listed in dataset, like happy hour, suitable for group, 
    suitable for kids, outdoor table availability, various price
    level, take-out and delivery availability, reservation 
    availability, and parking availability. The filters translated
    from the query will locat the specified business meeting all
    requirement
</pre> 
</div>
</div>
<a class="anchor" id="a7d3f6a06c4ce4b9b11ad611f70048ffe"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def query.parse_location </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>original_setence</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">    This funciton will extract location information from query sentence, 
    including identified city name, state name, and the distance limit
    from the current location. If the query try to find near business, the
    default distance limit is 5 miles.
</pre> 
</div>
</div>
<a class="anchor" id="a23f3087f46de1f567aa7412d9de15017"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def query.parse_time </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>original_setence</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">    This funciton will extract time information from query sentence, 
    including identified weekdays and time period like morning and 
    afternoon. The query can alse specify exact time like 5 o'clock
    and 3 pm.
</pre> 
</div>
</div>
<a class="anchor" id="a911e07979f26b29e3a195a40835172a3"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def query.query </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>original</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">    This is main function for parsing query. The input
    is the query sentence and the outputs are modified
    query string and all filters
</pre> 
</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a class="anchor" id="a9f286bc6df9e50d403c649f61f8dbf92"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">dictionary query.Cities = {}</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="aa994f27048276fc4931eab2a3460fa1d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">float query.laititude = 36.169941</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a207c06728e36340be26f4a76c37757c2"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">float query.longitude = -115.139830</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="ae86225984181c4fc348652276e13b1c8"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">list query.nums</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno"><a class="line" href="namespacequery.html">    1</a></span>&#160;= [<span class="stringliteral">&#39;one&#39;</span>, <span class="stringliteral">&#39;two&#39;</span>, <span class="stringliteral">&#39;three&#39;</span>, <span class="stringliteral">&#39;four&#39;</span>, <span class="stringliteral">&#39;five&#39;</span>, <span class="stringliteral">&#39;six&#39;</span>, <span class="stringliteral">&#39;seven&#39;</span>, <span class="stringliteral">&#39;eight&#39;</span>, \</div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;        <span class="stringliteral">&#39;nigh&#39;</span>, <span class="stringliteral">&#39;ten&#39;</span>, <span class="stringliteral">&#39;eleven&#39;</span>, <span class="stringliteral">&#39;twelve&#39;</span>, <span class="stringliteral">&#39;thirtenn&#39;</span>, <span class="stringliteral">&#39;fourteen&#39;</span>, <span class="stringliteral">&#39;fifteen&#39;</span>, \</div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;        <span class="stringliteral">&#39;sixteen&#39;</span>, <span class="stringliteral">&#39;seventeen&#39;</span>, <span class="stringliteral">&#39;eighteen&#39;</span>, <span class="stringliteral">&#39;ninteen&#39;</span>, <span class="stringliteral">&#39;twenty&#39;</span>]</div></div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a29da31d4ffbe263506490098738cc1e6"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">dictionary query.States = {}</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a8a873c314e2e87100988dabcd958feda"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">dictionary query.States_abbr = {}</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a0c3941964afa50da2c696343fefc4104"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">query.times = time.localtime()</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="namespacequery.html">query</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.11 </li>
  </ul>
</div>
</body>
</html>
