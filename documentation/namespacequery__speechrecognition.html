<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>My Project: query_speechrecognition Namespace Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">My Project
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li class="current"><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="namespaces.html"><span>Namespace&#160;List</span></a></li>
      <li><a href="namespacemembers.html"><span>Namespace&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('namespacequery__speechrecognition.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">query_speechrecognition Namespace Reference</div>  </div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ae0b6acc05b33b07607fbcfb1a8cae245"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacequery__speechrecognition.html#ae0b6acc05b33b07607fbcfb1a8cae245">all_cities</a> ()</td></tr>
<tr class="separator:ae0b6acc05b33b07607fbcfb1a8cae245"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5a3d9b5d9c75a89d692e9ed57097efa3"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacequery__speechrecognition.html#a5a3d9b5d9c75a89d692e9ed57097efa3">get_audio_query</a> ()</td></tr>
<tr class="separator:a5a3d9b5d9c75a89d692e9ed57097efa3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a191c510ef1e1d4d91ee1154df9cb35ac"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacequery__speechrecognition.html#a191c510ef1e1d4d91ee1154df9cb35ac">extract_entity_names</a> (t)</td></tr>
<tr class="separator:a191c510ef1e1d4d91ee1154df9cb35ac"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adbbda0e62c7672ade580cc1c2251f5f8"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacequery__speechrecognition.html#adbbda0e62c7672ade580cc1c2251f5f8">parse_location</a> (original_setence)</td></tr>
<tr class="separator:adbbda0e62c7672ade580cc1c2251f5f8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2b8e21b2b26b22cc9c4c3649cd1cdaea"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacequery__speechrecognition.html#a2b8e21b2b26b22cc9c4c3649cd1cdaea">parse_time</a> (original_setence)</td></tr>
<tr class="separator:a2b8e21b2b26b22cc9c4c3649cd1cdaea"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ada07b34729caa4da496d6d33289fddd8"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacequery__speechrecognition.html#ada07b34729caa4da496d6d33289fddd8">parse_filters</a> (original_setence)</td></tr>
<tr class="separator:ada07b34729caa4da496d6d33289fddd8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ade69c015052835db2525048aa0a6fecb"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacequery__speechrecognition.html#ade69c015052835db2525048aa0a6fecb">query_speech</a> ()</td></tr>
<tr class="separator:ade69c015052835db2525048aa0a6fecb"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a2e9b908a1a686e13b9afc3923806b58b"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacequery__speechrecognition.html#a2e9b908a1a686e13b9afc3923806b58b">times</a> = time.localtime()</td></tr>
<tr class="separator:a2e9b908a1a686e13b9afc3923806b58b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab2fb423e724b5f8a6f07210871dfc2ae"><td class="memItemLeft" align="right" valign="top">list&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacequery__speechrecognition.html#ab2fb423e724b5f8a6f07210871dfc2ae">nums</a> = ['one', 'two', 'three', 'four', 'five', 'six', 'seven', 'eight', 'nigh', 'ten', 'eleven', 'twelve', 'thirtenn', 'fourteen', 'fifteen', 'sixteen', 'seventeen', 'eighteen', 'ninteen', 'twenty']</td></tr>
<tr class="separator:ab2fb423e724b5f8a6f07210871dfc2ae"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac10bfc688a18917adc8f664466d24707"><td class="memItemLeft" align="right" valign="top">dictionary&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacequery__speechrecognition.html#ac10bfc688a18917adc8f664466d24707">Cities</a> = {}</td></tr>
<tr class="separator:ac10bfc688a18917adc8f664466d24707"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3e0a98ae608ac041506b827981141d39"><td class="memItemLeft" align="right" valign="top">dictionary&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacequery__speechrecognition.html#a3e0a98ae608ac041506b827981141d39">States</a> = {}</td></tr>
<tr class="separator:a3e0a98ae608ac041506b827981141d39"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8b972d0dbac2d4b74d2776144138f350"><td class="memItemLeft" align="right" valign="top">dictionary&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacequery__speechrecognition.html#a8b972d0dbac2d4b74d2776144138f350">States_abbr</a> = {}</td></tr>
<tr class="separator:a8b972d0dbac2d4b74d2776144138f350"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aae0219b4799ae7d810b90f527460141c"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacequery__speechrecognition.html#aae0219b4799ae7d810b90f527460141c">laititude</a> = 36.169941</td></tr>
<tr class="separator:aae0219b4799ae7d810b90f527460141c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3c3a229f567dbf872d1a99a9c728406e"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacequery__speechrecognition.html#a3c3a229f567dbf872d1a99a9c728406e">longitude</a> = -115.139830</td></tr>
<tr class="separator:a3c3a229f567dbf872d1a99a9c728406e"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><pre class="fragment">This file is very similar to query.py. The only difference is that 
text input of the query sentense becomes audio input
This file is used to parse the query into the multi filters and modify 
the query sentense, so that the search engine is able to retrive a 
list of business from dataset which meeting all requirements of query.

The filters include location limit, open time limit, happy hour, suitable
for group, suitable for kids, outdoor table availability, various price
level, take-out and delivery availability, reservation availability, and 
parking availability

The words shows in the filter will be removed from query string so that
search engine is able to get a more fair and relevant ranking of different
business.

@ Input: the input would be audio
@ Output: the imporved query sentense and a list of filters.

@ Package used: nltk, time, geonamescache, speech_recognition
</pre> </div><h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="ae0b6acc05b33b07607fbcfb1a8cae245"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def query_speechrecognition.all_cities </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">    This function will set three dictionary of python.
    
    The package geonamescache contians a list of cities in the World and
    a list of states in Unite States
    After scan the list of cities and the list of states, the name of cities
    and the name of states of America with all lower-case will be loaded into
    dictionary Cities and States separately.
</pre> 
</div>
</div>
<a class="anchor" id="a191c510ef1e1d4d91ee1154df9cb35ac"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def query_speechrecognition.extract_entity_names </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>t</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">    This function is a helper function, which will be recursively called to 
    separate one sentense into various words group. And from the groups of 
    word, the city name and state name can be extracted as filter
</pre> 
</div>
</div>
<a class="anchor" id="a5a3d9b5d9c75a89d692e9ed57097efa3"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def query_speechrecognition.get_audio_query </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">    This function wiil open the microphone and record the speech. Then 
    the speech will be translated into text by google speedch recognizition.
</pre> 
</div>
</div>
<a class="anchor" id="ada07b34729caa4da496d6d33289fddd8"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def query_speechrecognition.parse_filters </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>original_setence</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">    This funciton will extract specified attribute of business 
    listed in dataset, like happy hour, suitable for group, 
    suitable for kids, outdoor table availability, various price
    level, take-out and delivery availability, reservation 
    availability, and parking availability. The filters translated
    from the query will locat the specified business meeting all
    requirement
</pre> 
</div>
</div>
<a class="anchor" id="adbbda0e62c7672ade580cc1c2251f5f8"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def query_speechrecognition.parse_location </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>original_setence</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">    This funciton will extract location information from query sentence, 
    including identified city name, state name, and the distance limit
    from the current location. If the query try to find near business, the
    default distance limit is 5 miles.
</pre> 
</div>
</div>
<a class="anchor" id="a2b8e21b2b26b22cc9c4c3649cd1cdaea"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def query_speechrecognition.parse_time </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>original_setence</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">    This funciton will extract time information from query sentence, 
    including identified weekdays and time period like morning and 
    afternoon. The query can alse specify exact time like 5 o'clock
    and 3 pm.
</pre> 
</div>
</div>
<a class="anchor" id="ade69c015052835db2525048aa0a6fecb"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def query_speechrecognition.query_speech </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">    This is main function for parsing query. The input
    is the query sentence and the outputs are modified
    query string and all filters
</pre> 
</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a class="anchor" id="ac10bfc688a18917adc8f664466d24707"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">dictionary query_speechrecognition.Cities = {}</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="aae0219b4799ae7d810b90f527460141c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">float query_speechrecognition.laititude = 36.169941</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a3c3a229f567dbf872d1a99a9c728406e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">float query_speechrecognition.longitude = -115.139830</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="ab2fb423e724b5f8a6f07210871dfc2ae"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">list query_speechrecognition.nums = ['one', 'two', 'three', 'four', 'five', 'six', 'seven', 'eight', 'nigh', 'ten', 'eleven', 'twelve', 'thirtenn', 'fourteen', 'fifteen', 'sixteen', 'seventeen', 'eighteen', 'ninteen', 'twenty']</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a3e0a98ae608ac041506b827981141d39"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">dictionary query_speechrecognition.States = {}</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a8b972d0dbac2d4b74d2776144138f350"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">dictionary query_speechrecognition.States_abbr = {}</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a2e9b908a1a686e13b9afc3923806b58b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">query_speechrecognition.times = time.localtime()</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="namespacequery__speechrecognition.html">query_speechrecognition</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.11 </li>
  </ul>
</div>
</body>
</html>
